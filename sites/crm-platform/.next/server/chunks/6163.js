"use strict";exports.id=6163,exports.ids=[6163],exports.modules={16163:(e,r,t)=>{t.d(r,{A:()=>g});var a=t(45512),n=t(58009),s=t(3438);let l=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125M3.375 19.5h7.5c.621 0 1.125-.504 1.125-1.125m-9.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-7.5A1.125 1.125 0 0 1 12 18.375m9.75-12.75c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125m19.5 0v1.5c0 .621-.504 1.125-1.125 1.125M2.25 5.625v1.5c0 .621.504 1.125 1.125 1.125m0 0h17.25m-17.25 0h7.5c.621 0 1.125.504 1.125 1.125M3.375 8.25c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m17.25-3.75h-7.5c-.621 0-1.125.504-1.125 1.125m8.625-1.125c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M12 10.875v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125M13.125 12h7.5m-7.5 0c-.621 0-1.125.504-1.125 1.125M20.625 12c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h7.5M12 14.625v-1.5m0 1.5c0 .621-.504 1.125-1.125 1.125M12 14.625c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m0 1.5v-1.5m0 0c0-.621.504-1.125 1.125-1.125m0 0h7.5"}))}),i=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}),o=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}),c=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}),d=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}),m=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}),u=n.forwardRef(function({title:e,titleId:r,...t},a){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},t),e?n.createElement("title",{id:r},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))});function h({items:e,columns:r,onItemClick:t,entityType:n}){let s=r.find(e=>e.isPrimary)||r[0],l=r.filter(e=>!e.isPrimary&&!1!==e.active);return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map((e,n)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-ocean-200 overflow-hidden hover:shadow-md transition-shadow duration-200 cursor-pointer",onClick:()=>t(e),children:[(0,a.jsx)("div",{className:"aspect-video bg-ocean-50 flex items-center justify-center",children:r.find(e=>e.isImage)?.renderCell?.(e[r.find(e=>e.isImage).field])||(0,a.jsx)("div",{className:"text-4xl text-ocean-400",children:e[s.field]?.charAt(0)?.toUpperCase()||"?"})}),(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-ocean-900 mb-2",children:e[s.field]}),(0,a.jsx)("dl",{className:"space-y-1",children:l.map(r=>(0,a.jsxs)("div",{className:"flex text-sm",children:[(0,a.jsxs)("dt",{className:"text-ocean-500 w-1/3",children:[r.headerName,":"]}),(0,a.jsx)("dd",{className:"text-ocean-900 w-2/3",children:r.renderCell?r.renderCell(e[r.field]):e[r.field]||"-"})]},r.field))})]})]},n))})}var x=t(79334),f=t(39370);function g({entityType:e,columns:r,rows:t,onSave:g,loading:p=!1,pagination:v,onPageChange:b,onSearch:w,onSort:j}){let[N,k]=(0,n.useState)("grid"),[y,C]=(0,n.useState)(""),[E,L]=(0,n.useState)({}),[A,M]=(0,n.useState)(!1),[$,O]=(0,n.useState)(null),[R,W]=(0,n.useState)("asc"),[P,S]=(0,n.useState)(()=>(0,f.J1)(e,r.map(e=>e.field))),Z=(0,x.useRouter)(),B=(e,r)=>r.filter(e=>!1!==e.active).map(e=>e.field),V=r.filter(t=>B(e,r).includes(t.field)),H=r=>{"marketingList"===e?Z.push(`/marketing/lists/${r.id}`):Z.push(`/${function(e){let r=e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase();for(let[e,t]of Object.entries({authority:"authorities",person:"people"}))if(r.endsWith(e))return r.slice(0,-e.length)+t;return r.endsWith("s")?r:`${r}s`}(e)}/${r.id}`)},I=e=>{let r=$===e&&"asc"===R?"desc":"asc";O(e),W(r),j&&j(e,r)},J=e=>{C(e),w&&w(e)},U=e=>{b&&b(e)},z=V.sort((e,r)=>P.indexOf(e.field)-P.indexOf(r.field)),D=Array.isArray(t)?t:[];return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-white rounded-lg shadow-sm border border-ocean-100",children:[(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-ocean-100 bg-ocean-50",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>k("grid"),className:`p-2 rounded-md ${"grid"===N?"bg-ocean-100 text-ocean-800":"text-ocean-600 hover:bg-ocean-50"}`,children:(0,a.jsx)(l,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>k("gallery"),className:`p-2 rounded-md ${"gallery"===N?"bg-ocean-100 text-ocean-800":"text-ocean-600 hover:bg-ocean-50"}`,children:(0,a.jsx)(i,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search...",value:y,onChange:e=>J(e.target.value),className:"w-64 pl-10 pr-4 py-2 border border-ocean-200 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"}),(0,a.jsx)(o,{className:"absolute left-3 top-2.5 h-5 w-5 text-ocean-400"})]})]}),(0,a.jsx)("button",{onClick:()=>M(!A),className:`p-2 rounded-md ${A?"bg-ocean-100 text-ocean-800":"text-ocean-600 hover:bg-ocean-50"}`,children:(0,a.jsx)(c,{className:"h-5 w-5"})})]}),A&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-ocean-50 rounded-md border border-ocean-100",children:(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:r.map(e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-ocean-700 mb-1",children:e.headerName}),(0,a.jsx)("input",{type:"text",value:E[e.field]||"",onChange:r=>L(t=>({...t,[e.field]:r.target.value})),className:"w-full px-3 py-2 border border-ocean-200 rounded-md focus:outline-none focus:ring-2 focus:ring-ocean-500 focus:border-ocean-500"})]},e.field))})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-auto",children:p?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ocean-600"})}):"grid"===N?(0,a.jsx)(s.JY,{onDragEnd:r=>{if(!r.destination)return;let t=Array.from(P),[a]=t.splice(r.source.index,1);t.splice(r.destination.index,0,a),S(t),(0,f.Ur)(e,t)},children:(0,a.jsx)("div",{className:"min-w-full divide-y divide-ocean-100",children:(0,a.jsx)(s.gL,{droppableId:"columns",direction:"horizontal",children:e=>(0,a.jsxs)("table",{className:"min-w-full divide-y divide-ocean-100",children:[(0,a.jsx)("thead",{className:"bg-ocean-50",ref:e.innerRef,children:(0,a.jsxs)("tr",{children:[z.map((e,r)=>(0,a.jsx)(s.sx,{draggableId:e.field,index:r,children:r=>(0,a.jsx)("th",{...r.draggableProps,...r.dragHandleProps,ref:r.innerRef,scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-ocean-700 uppercase tracking-wider cursor-pointer hover:bg-ocean-100",onClick:()=>I(e.field),children:(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)("span",{children:e.headerName}),$===e.field&&(0,a.jsx)(d,{className:`h-4 w-4 transform ${"desc"===R?"rotate-180":""}`})]})})},e.field)),e.placeholder]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-ocean-100",children:D.map((e,r)=>(0,a.jsx)("tr",{role:"row",onClick:()=>H(e),className:"hover:bg-ocean-50 cursor-pointer","aria-label":`row ${r+1}`,children:z.map(r=>(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-ocean-800",children:r.renderCell?r.renderCell(e):e[r.field]},r.field))},r))})]})})})}):(0,a.jsx)(h,{items:D,columns:V,onItemClick:H,entityType:e})}),v&&(0,a.jsxs)("div",{className:"px-4 py-3 border-t border-ocean-100 bg-ocean-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-ocean-700",children:["Page ",v.page," of ",v.totalPages," (",v.totalItems," items)"]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("button",{onClick:()=>U(v.page-1),disabled:1===v.page,className:`p-2 rounded-md ${1===v.page?"text-ocean-300 cursor-not-allowed":"text-ocean-600 hover:bg-ocean-50"}`,children:(0,a.jsx)(m,{className:"h-5 w-5"})}),(0,a.jsx)("button",{onClick:()=>U(v.page+1),disabled:v.page===v.totalPages,className:`p-2 rounded-md ${v.page===v.totalPages?"text-ocean-300 cursor-not-allowed":"text-ocean-600 hover:bg-ocean-50"}`,children:(0,a.jsx)(u,{className:"h-5 w-5"})})]})]})]})}},39370:(e,r,t)=>{function a(e,r){return r}function n(e,r){}function s(e){return{}}function l(e,r){}t.d(r,{J1:()=>a,Ur:()=>n,Xd:()=>s,kL:()=>l})}};