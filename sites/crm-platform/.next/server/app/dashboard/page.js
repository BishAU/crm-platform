(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},81042:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(65756),t(13321),t(84752),t(96560);var a=t(23191),r=t(88716),n=t(37922),i=t.n(n),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(s,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,65756)),"/home/bish/Downloads/sites/crm-platform/app/dashboard/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,13321)),"/home/bish/Downloads/sites/crm-platform/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,84752)),"/home/bish/Downloads/sites/crm-platform/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,96560)),"/home/bish/Downloads/sites/crm-platform/app/not-found.tsx"]}],c=["/home/bish/Downloads/sites/crm-platform/app/dashboard/page.tsx"],m="/dashboard/page",h={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},80490:(e,s,t)=>{Promise.resolve().then(t.bind(t,27282))},23650:(e,s,t)=>{Promise.resolve().then(t.bind(t,78250))},5634:(e,s,t)=>{Promise.resolve().then(t.bind(t,78143))},76194:(e,s,t)=>{Promise.resolve().then(t.bind(t,37))},90676:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,12994,23)),Promise.resolve().then(t.t.bind(t,96114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,79671,23)),Promise.resolve().then(t.t.bind(t,41868,23)),Promise.resolve().then(t.t.bind(t,84759,23))},36570:(e,s,t)=>{"use strict";t.d(s,{Z:()=>p});var a=t(10326),r=t(17577),n=t(35047),i=t(41135),l=t(31009);function o(...e){return(0,l.m6)((0,i.W)(e))}var d=t(90434);function c({isCollapsed:e,pathname:s,menuItems:n}){let[i,l]=(0,r.useState)(null);return a.jsx("nav",{className:"flex flex-col h-full",children:a.jsx("div",{className:"flex-1 px-2 py-2 space-y-1",children:n.map(({name:r,href:n,icon:c,subItems:m,isButton:h,onClick:u})=>{let x=m&&m.length>0,p=i===r;return(0,a.jsxs)("div",{children:[h?(0,a.jsxs)("button",{className:o("group flex items-center px-2 py-2 text-sm font-medium rounded-md","text-white transition-colors duration-200 w-full text-left",s===n?"bg-[#005f9e]":""),onClick:async e=>{if("signOut"===u){e.preventDefault();let{signOut:s}=await Promise.resolve().then(t.t.bind(t,77109,23));s({callbackUrl:"/login"})}},children:[a.jsx("span",{className:o("mr-3",s===n?"text-white":"text-white/80","hover:bg-[#005f9e] !important"),children:c}),!e&&a.jsx("div",{className:"flex-1 flex justify-between items-center",children:a.jsx("span",{children:r})})]}):(0,a.jsxs)(d.default,{href:n,className:o("group flex items-center px-2 py-2 text-sm font-medium rounded-md","text-white transition-colors duration-200",x?"cursor-pointer":"",s===n?"bg-[#005f9e]":""),onClick:async e=>{console.log("pathname:",s,"href:",n,"active:",s===n),x&&(e.preventDefault(),console.log("openMenu:",i,"name:",r),i===r?l(null):l(r))},"aria-expanded":x?p:void 0,"aria-haspopup":x?"true":void 0,children:[a.jsx("span",{className:o("mr-3",s===n?"text-white":"text-white/80","hover:bg-[#005f9e] !important"),children:c}),!e&&(0,a.jsxs)("div",{className:"flex-1 flex justify-between items-center",children:[a.jsx("span",{children:r}),x&&a.jsx("span",{className:"ml-2",children:p?"▴":"▾"})]})]}),x&&p&&!e&&a.jsx("div",{className:"pl-4",children:m.map(e=>(0,a.jsxs)(d.default,{href:e.href,className:o("group flex items-center px-2 py-2 text-sm font-medium rounded-md","text-white hover:bg-[#005f9e] transition-colors duration-200",s===e.href?"bg-[#005f9e]":""),children:[a.jsx("span",{className:o("mr-3",s===e.href?"text-white":"text-white/80"),children:e.icon}),e.name]},e.name))})]},r)})})})}let m={mainNav:[{name:"Dashboard",href:"/dashboard",icon:"\uD83D\uDCCA",subItems:[{name:"People",href:"/people",icon:"\uD83D\uDC65"},{name:"Outfalls",href:"/outfalls",icon:"\uD83C\uDF0A"},{name:"Water Authorities",href:"/water-authorities",icon:"\uD83C\uDFE2"},{name:"Indigenous Communities",href:"/indigenous-communities",icon:"\uD83C\uDFDB️"},{name:"Politicians",href:"/politicians",icon:"\uD83D\uDC54"},{name:"Observations",href:"/observations",icon:"\uD83D\uDC41️"},{name:"Customers",href:"/customers",icon:"\uD83C\uDFEA"},{name:"Facilities",href:"/facilities",icon:"\uD83C\uDFED"},{name:"Outfall Types",href:"/outfall-types",icon:"\uD83D\uDEB0"}]},{name:"Marketing",href:"/marketing",icon:"\uD83D\uDCC8",subItems:[{name:"Lists",href:"/marketing/lists",icon:"\uD83D\uDCCB"},{name:"Campaigns",href:"/marketing/campaigns",icon:"\uD83D\uDCE2"},{name:"Templates",href:"/marketing/templates",icon:"\uD83D\uDCC4"}]},{name:"Support",href:"/support",icon:"\uD83C\uDFAB",subItems:[{name:"Tickets",href:"/support/tickets",icon:"\uD83C\uDFAB"}]}],footerNav:[{name:"Clean Ocean Foundation",href:"https://www.cleanocean.org/",icon:"",isExternal:!0},{name:"Settings",href:"/settings",icon:"⚙️",subItems:[{name:"Users",href:"/users",icon:"\uD83D\uDC64"}]},{name:"Sign out",href:"#",icon:"\uD83D\uDEAA",onClick:"signOut",isButton:!0}]};var h=t(46226);let u=({className:e})=>{let s=(0,n.usePathname)(),[t,i]=(0,r.useState)(!1);return(0,a.jsxs)("aside",{className:o("flex flex-col h-full bg-[#0077be] border-r border-gray-200",t?"w-16":"w-64",e),children:[a.jsx("div",{className:"p-4 border-b border-gray-200",children:a.jsx(d.default,{href:"/dashboard",children:a.jsx(h.default,{src:"/images/cof_logo.png",alt:"Clean Ocean Foundation Logo",width:t?40:200,height:t?40:80,className:"mx-auto",priority:!0})})}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx(c,{isCollapsed:t,pathname:s,menuItems:[...m.mainNav,...m.footerNav]})})]})};var x=t(77109);function p({children:e}){let{data:s,status:t}=(0,x.useSession)();return((0,n.useRouter)(),(0,n.usePathname)(),"loading"===t)?a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsx("div",{className:"text-lg",children:"Loading..."})}):s?(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[a.jsx("div",{className:"fixed left-0 h-full w-64 bg-white border-r border-gray-200 overflow-y-auto z-40",children:a.jsx(u,{})}),a.jsx("div",{className:"flex-1 ml-64",children:a.jsx("main",{className:"min-h-screen",children:e})})]}):null}},27282:(e,s,t)=>{"use strict";t.d(s,{default:()=>b});var a=t(10326),r=t(17577),n=t(36570),i=t(77109),l=t(35047),o=t(90434);let d=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(...e)=>e.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim();var m={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let h=(0,r.forwardRef)(({color:e="currentColor",size:s=24,strokeWidth:t=2,absoluteStrokeWidth:a,className:n="",children:i,iconNode:l,...o},d)=>(0,r.createElement)("svg",{ref:d,...m,width:s,height:s,stroke:e,strokeWidth:a?24*Number(t)/Number(s):t,className:c("lucide",n),...o},[...l.map(([e,s])=>(0,r.createElement)(e,s)),...Array.isArray(i)?i:[i]])),u=(e,s)=>{let t=(0,r.forwardRef)(({className:t,...a},n)=>(0,r.createElement)(h,{ref:n,iconNode:s,className:c(`lucide-${d(e)}`,t),...a}));return t.displayName=`${e}`,t},x=u("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]),p=u("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),f=u("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),g=u("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function b(){let{data:e,status:s}=(0,i.useSession)();(0,l.useRouter)();let[t,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)({outfalls:0,observations:0,waterAuthorities:0,people:0,tickets:{open:0,inProgress:0,resolved:0},campaigns:[]});return t||"loading"===s?a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ocean-600"})}):e?a.jsx(n.Z,{children:(0,a.jsxs)("div",{className:"p-8 space-y-8",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-ocean-900",children:"Dashboard"}),(0,a.jsxs)("h2",{className:"text-xl text-ocean-700",children:["Welcome back, ",e.user?.email]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(o.default,{href:"/outfalls",className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(x,{className:"w-8 h-8 text-ocean-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-ocean-600",children:"Outfalls"}),a.jsx("p",{className:"text-2xl font-bold text-ocean-900",children:c.outfalls})]})]})}),a.jsx(o.default,{href:"/observations",className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(p,{className:"w-8 h-8 text-ocean-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-ocean-600",children:"Observations"}),a.jsx("p",{className:"text-2xl font-bold text-ocean-900",children:c.observations})]})]})}),a.jsx(o.default,{href:"/water-authorities",className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(f,{className:"w-8 h-8 text-ocean-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-ocean-600",children:"Water Authorities"}),a.jsx("p",{className:"text-2xl font-bold text-ocean-900",children:c.waterAuthorities})]})]})}),a.jsx(o.default,{href:"/people",className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100 hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx(g,{className:"w-8 h-8 text-ocean-600"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm text-ocean-600",children:"People"}),a.jsx("p",{className:"text-2xl font-bold text-ocean-900",children:c.people})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-ocean-900",children:"Support Tickets"}),a.jsx(o.default,{href:"/support",className:"text-sm text-ocean-600 hover:text-ocean-700",children:"View all"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-600",children:"Open"}),a.jsx("p",{className:"text-2xl font-bold text-green-700",children:c.tickets.open})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-yellow-600",children:"In Progress"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:c.tickets.inProgress})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-blue-600",children:"Resolved"}),a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:c.tickets.resolved})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-ocean-100",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-ocean-900",children:"Latest Campaigns"}),a.jsx(o.default,{href:"/marketing",className:"text-sm text-ocean-600 hover:text-ocean-700",children:"View all"})]}),a.jsx("div",{className:"space-y-4",children:c.campaigns.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-ocean-900",children:e.name}),a.jsx("p",{className:"text-sm text-ocean-600",children:e.status})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-ocean-900",children:e.openRate?`${e.openRate}%`:"--"}),a.jsx("p",{className:"text-sm text-ocean-600",children:e.openRate?"Open Rate":"Scheduled"})]})]},s))})]})]})]})}):null}},78250:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(10326);function r({children:e}){return a.jsx("div",{className:"flex min-h-screen",children:a.jsx("div",{className:"flex-1",children:a.jsx("main",{className:"flex-1 p-8 bg-ocean-50",children:e})})})}function n({children:e}){return a.jsx(r,{children:e})}},37:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(10326),r=t(90434);function n(){return a.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-ocean-50",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-9xl font-bold text-ocean-900",children:"404"}),a.jsx("p",{className:"mt-4 text-2xl text-ocean-700",children:"Page Not Found"}),a.jsx("p",{className:"mt-2 text-ocean-600",children:"The page you're looking for doesn't exist or has been moved."}),a.jsx("div",{className:"mt-6",children:a.jsx(r.default,{href:"/",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-ocean-600 hover:bg-ocean-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-ocean-500",children:"Go back home"})})]})})}},78143:(e,s,t)=>{"use strict";t.d(s,{Providers:()=>n});var a=t(10326),r=t(77109);function n({children:e}){return a.jsx(r.SessionProvider,{children:e})}},35047:(e,s,t)=>{"use strict";var a=t(77389);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(s,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},13321:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/bish/Downloads/sites/crm-platform/app/dashboard/layout.tsx#default`)},65756:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,dynamic:()=>i});var a=t(19510),r=t(71159);let n=(0,t(68570).createProxy)(String.raw`/home/bish/Downloads/sites/crm-platform/app/dashboard/DashboardClient.tsx#default`),i="force-dynamic";function l(){return a.jsx(r.Suspense,{fallback:a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ocean-600"})}),children:a.jsx(n,{})})}},84752:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>n});var a=t(19510);t(67272);let r=(0,t(68570).createProxy)(String.raw`/home/bish/Downloads/sites/crm-platform/app/providers.tsx#Providers`),n={title:"CRM Platform",description:"Customer Relationship Management Platform"};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen bg-gray-50",children:a.jsx(r,{children:e})})})}},96560:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`/home/bish/Downloads/sites/crm-platform/app/not-found.tsx#default`)},67272:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,77,6226,325],()=>t(81042));module.exports=a})();