(()=>{var e={};e.id=9755,e.ids=[9755],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},52811:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>p,tree:()=>d}),s(64737),s(6136),s(8654),s(84752),s(96560);var t=s(23191),i=s(88716),r=s(37922),n=s.n(r),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(a,o);let d=["",{children:["marketing",{children:["email-analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,64737)),"/home/bish/Downloads/sites/crm-platform/app/marketing/email-analytics/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,6136)),"/home/bish/Downloads/sites/crm-platform/app/marketing/email-analytics/loading.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,8654)),"/home/bish/Downloads/sites/crm-platform/app/marketing/loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,84752)),"/home/bish/Downloads/sites/crm-platform/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,96560)),"/home/bish/Downloads/sites/crm-platform/app/not-found.tsx"]}],c=["/home/bish/Downloads/sites/crm-platform/app/marketing/email-analytics/page.tsx"],m="/marketing/email-analytics/page",u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/marketing/email-analytics/page",pathname:"/marketing/email-analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22074:(e,a,s)=>{Promise.resolve().then(s.bind(s,48921))},35303:()=>{},48921:(e,a,s)=>{"use strict";s.d(a,{default:()=>m});var t=s(10326),i=s(17577),r=s(16887),n=s(68535),l=s(36570),o=s(76682),d=s(77109),c=s(35047);function m(){let[e,a]=(0,i.useState)(!0),[s,m]=(0,i.useState)([]),[u,p]=(0,i.useState)(null),{status:h}=(0,d.useSession)();(0,c.useRouter)();let x=[{field:"id",headerName:"ID",isPrimary:!0},{field:"campaign",headerName:"Campaign"},{field:"sentDate",headerName:"Sent Date"},{field:"opens",headerName:"Opens"},{field:"clicks",headerName:"Clicks"},{field:"bounces",headerName:"Bounces"}],f=(0,o.rs)("emailAnalytics",x.map(e=>e.field)).map(e=>x.find(a=>a.field===e)).filter(e=>void 0!==e),g=async e=>{console.log("Save email analytics:",e);try{let a=await fetch(`/api/marketing/email-analytics/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);let t=await a.json();m(s.map(e=>e.id===t.id?t:e))}catch(e){console.error("Failed to save email analytics data:",e)}p(null)};return"loading"===h||"unauthenticated"===h?t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ocean-600"})}):t.jsx(l.Z,{children:(0,t.jsxs)("div",{className:"p-8",children:[t.jsx("h1",{className:"text-2xl font-bold text-ocean-900 mb-6",children:"Email Analytics"}),t.jsx(r.Z,{rows:s,columns:f,entityType:"emailAnalytics",onSave:g,loading:e}),u&&t.jsx(n.Z,{entityType:"emailAnalytics",record:u,onSave:g})]})})}},6136:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>r});var t=s(19510);function i({className:e,...a}){return t.jsx("div",{className:function(...e){return e.filter(Boolean).join(" ")}("animate-pulse rounded-md bg-muted",e),...a})}function r(){return(0,t.jsxs)("div",{className:"container mx-auto py-6 space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[t.jsx(i,{className:"h-32"}),t.jsx(i,{className:"h-32"}),t.jsx(i,{className:"h-32"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsx(i,{className:"h-96"}),t.jsx(i,{className:"h-96"})]})]})}},64737:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>l,dynamic:()=>n});var t=s(19510),i=s(71159);let r=(0,s(68570).createProxy)(String.raw`/home/bish/Downloads/sites/crm-platform/app/marketing/email-analytics/EmailAnalyticsClient.tsx#default`),n="force-dynamic";function l(){return t.jsx(i.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center h-screen",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-ocean-600"})}),children:t.jsx(r,{})})}},8654:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(19510);function i(){return t.jsx("div",{className:"flex min-h-screen items-center justify-center",children:t.jsx("div",{className:"h-32 w-32 animate-spin rounded-full border-b-2 border-gray-900"})})}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,77,4277,6226,325,9792,9661],()=>s(52811));module.exports=t})();