"use strict";(()=>{var e={};e.id=3912,e.ids=[3912],e.modules={53524:e=>{e.exports=require("@prisma/client")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},98482:(e,t,i)=>{i.r(t),i.d(t,{originalPathname:()=>h,patchFetch:()=>y,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>m,staticGenerationAsyncStorage:()=>f});var r={};i.r(r),i.d(r,{GET:()=>l,PUT:()=>p});var a=i(49303),n=i(88716),s=i(60670),o=i(87070),u=i(72331);async function l(e,{params:t}){try{let e=await u._.facility.findUnique({where:{id:t.id}});if(!e)return new o.NextResponse("Facility not found",{status:404});return o.NextResponse.json(e)}catch(e){return console.error("Error fetching facility:",e),new o.NextResponse("Internal Server Error",{status:500})}}async function p(e,{params:t}){try{let i=await e.json();if(i.facilityName){let e=await u._.facility.findUnique({where:{facilityName:i.facilityName}});if(e&&e.id!==t.id)return new o.NextResponse("Facility name already in use",{status:400})}let r=await u._.facility.update({where:{id:t.id},data:i});return o.NextResponse.json(r)}catch(e){return console.error("Error updating facility:",e),new o.NextResponse("Internal Server Error",{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/facilities/[id]/route",pathname:"/api/facilities/[id]",filename:"route",bundlePath:"app/api/facilities/[id]/route"},resolvedPagePath:"/home/bish/Downloads/sites/crm-platform/app/api/facilities/[id]/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:m}=c,h="/api/facilities/[id]/route";function y(){return(0,s.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:f})}},72331:(e,t,i)=>{i.d(t,{_:()=>n});var r=i(53524);let a=globalThis;a.prisma||(a.prisma=new r.PrismaClient({log:["error"]}));let n=a.prisma}};var t=require("../../../../webpack-runtime.js");t.C(e);var i=e=>t(t.s=e),r=t.X(0,[9380,5972],()=>i(98482));module.exports=r})();